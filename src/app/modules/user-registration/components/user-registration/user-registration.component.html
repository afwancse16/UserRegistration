<div class="container mt-4 user-registration p-4">
  <form [formGroup]="signupForm">
    <h3 style="text-align:center">
      Sign Up Form
    </h3>

    <p class="text text-danger">
      Field marked as * are mandatory.
    </p>

    <!-- User title -->
    <div class="row mb-4">
      <div class="col-4">
        <div ngbDropdown class="user-registration__dropdown">
          <div
            class="btn user-registration__dropdown__label"
            id="dropdownBasic1"
            ngbDropdownToggle
            (click)="onDropdownToggle()"
          >
          {{ signupForm.get('title').value || 'Your Title' }}
          </div>
          <div ngbDropdownMenu aria-labelledby="dropdownBasic1">
            <ng-container *ngFor="let item of titleData">
              <button (click)="onTitleChange(item)" ngbDropdownItem>{{ item.name }}</button>
            </ng-container>
          </div>
        </div>
        <app-validation-error [control]="getFormControl('title')"></app-validation-error>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
    </div>

    <!-- First name || Last name -->
    <div class="form-row">
      <div class="col-5">
        <div class="form-group">
          <input
            type="text"
            placeholder="First Name"
            class="form-control"
            formControlName="firstName"
          >
          <app-validation-error
            fieldName="firstName"
            [control]="getFormControl('firstName')"
          ></app-validation-error>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
      <div class="col-5">
        <div class="form-group">
          <div class="controls">
            <input type="text" placeholder="Last Name" class="form-control" formControlName="lastName">
            <app-validation-error
              fieldName="lastName"
              [control]="getFormControl('lastName')"
            ></app-validation-error>
          </div>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
    </div>

    <!-- email -->
    <div class="form-row">
      <div class="col-5">
        <div class="form-group">
          <input type="email" placeholder="Email" class="form-control" formControlName="email">
          <app-validation-error [control]="getFormControl('email')"></app-validation-error>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
      <div class="col-5">
        <div class="form-group">
          <div class="controls">
            <input type="email" placeholder="Confirm Email" class="form-control" formControlName="confirmEmail">
            <app-validation-error [control]="getFormControl('confirmEmail')"></app-validation-error>
          </div>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
    </div>

    <!-- DOB || Number -->
    <div class="form-row">
      <div class="col-5">
        <div class="form-group row">
          <label class="col-sm-4 col-form-label">Date of birth:</label>
          <div class="col-sm-8">
            <input type="date" placeholder="dd/mm/yyyy" class="form-control" formControlName="dob">
            <app-validation-error [control]="getFormControl('dob')"></app-validation-error>
          </div>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
      <div class="col-5">
        <div class="form-group">
          <div class="controls">
            <input type="number" placeholder="Phone Number" class="form-control" formControlName="phone">
            <app-validation-error
              fieldName="phone"
              [control]="getFormControl('phone')"
            ></app-validation-error>
          </div>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
    </div>

    <!-- Password -->
    <div class="form-row">
      <div class="col-5">
        <div class="form-group">
          <input type="password" placeholder="Password" class="form-control" formControlName="password">
          <app-validation-error
            fieldName="password"
            [control]="getFormControl('password')"
          ></app-validation-error>
        </div>
      </div>
      <div class="col-1 user-registration__required">
        <span>*</span>
      </div>
    </div>

    <!-- Submit -->
    <div class="form-group">
      <button
        class="btn btn-primary"
        type="submit"
        (click)="onSubmit()"
        [disabled]="signupForm.invalid"
      >
      <ng-container *ngIf="isSpinner;
        then spinnerTemplate;
        else mainTemplate"
      ></ng-container>
        <ng-template #mainTemplate>
          Submit
        </ng-template>

        <ng-template #spinnerTemplate>
          <span class="spinner-border spinner-border-sm"></span>
          Loading..
        </ng-template>
      </button>
    </div>

  </form>
</div>
